{"meta":{"interval":1,"startTime":1763205028312.94,"processType":0,"product":"Ruby/Vernier","stackwalk":1,"version":28,"preprocessedProfileVersion":48,"symbolicated":true,"markerSchema":[{"name":"THREAD_RUNNING","display":["marker-chart"],"data":[{"label":"Description","value":"The thread has acquired the GVL and is executing"}]},{"name":"THREAD_STALLED","display":["marker-chart"],"data":[{"label":"Description","value":"The thread is ready, but stalled waiting for the GVL to be available"}]},{"name":"THREAD_SUSPENDED","display":["marker-chart"],"data":[{"label":"Description","value":"The thread has voluntarily released the GVL (ex. to sleep, for I/O, waiting on a lock)"}]},{"name":"GC_PAUSE","display":["marker-chart","marker-table","timeline-overview"],"tooltipLabel":"{marker.name} - {marker.data.state}","data":[{"label":"Description","value":"All threads are paused as GC is performed"},{"key":"state","format":"string"},{"key":"gc_by","format":"string"}]},{"name":"FIBER_SWITCH","display":["marker-chart","marker-table","timeline-overview"],"tooltipLabel":"{marker.name} - {marker.data.fiber_id}","data":[{"label":"Description","value":"Switch running Fiber"},{"key":"fiber_id","format":"integer"}]}],"sampleUnits":{"time":"ms","eventDelay":"ms","threadCPUDelta":"Âµs"},"categories":[{"name":"Kernel","color":"magenta","subcategories":["Other","Kernel"]},{"name":"gem","color":"lightblue","subcategories":["Other","gem"]},{"name":"Rails","color":"red","subcategories":["Other","activesupport","activemodel","activerecord","actionview","actionpack","activejob","actionmailer","actioncable","activestorage","actionmailbox","actiontext","railties"]},{"name":"Ruby","color":"purple","subcategories":["Other","stdlib"]},{"name":"Idle","color":"transparent","subcategories":["Other"]},{"name":"Stalled","color":"transparent","subcategories":["Other"]},{"name":"GC","color":"red","subcategories":["Other"]},{"name":"cfunc","color":"yellow","subcategories":["Other"]},{"name":"Thread","color":"grey","subcategories":["Other"]}],"sourceCodeIsNotOnSearchfox":true,"initialVisibleThreads":[0,1,2],"initialSelectedThreads":[0],"vernierUserMetadata":{},"extra":[{"label":"User-Supplied Metadata","entries":[]}]},"counters":[],"libs":[],"threads":[{"name":"/tmp/ar-bench.rb","isMainThread":true,"processStartupTime":957833062.097,"registerTime":957833062.097,"pausedRanges":[],"pid":8807,"tid":8710896,"frameTable":{"address":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],"inlineDepth":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"category":[3,1,3,3,0,3,3,0,3,3,3,3,3,3,3,3,3,3,7,0,3,3,3,3,3,3,3,3,3,7,3,7,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,7,3,3,3,3,3,3,3,3,3,1,7,1,7,3,7,3,7],"subcategory":[0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0],"func":[0,1,2,3,4,3,3,4,3,5,6,7,5,8,9,10,11,12,13,14,12,12,15,15,16,17,18,19,20,21,18,22,23,17,12,14,24,12,18,16,16,3,25,26,27,28,29,30,31,32,29,33,34,29,35,36,35,29,37,38,39,40,41,37,42,37,43],"nativeSymbol":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"innerWindowID":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"implementation":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,67,null,null,null,null,null,null,null,null,null,null,67,null,67,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,67,null,null,null,null,null,null,null,null,null,null,67,null,67,null,67,null,67],"line":[136,27,137,81,248,82,0,0,90,55,318,457,56,11,30,70,884,99,0,228,102,108,0,859,62,84,183,226,57,0,185,0,0,0,0,0,0,100,0,57,0,91,25,162,593,665,610,639,13,0,612,1204,58,614,1050,9,1081,615,98,217,0,36,0,105,0,126,0],"column":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"length":67},"funcTable":{"name":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],"isJS":[true,true,true,true,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,true,false,false,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,false,true,false,false,false],"relevantForJS":[true,true,true,true,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,true,false,false,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,false,true,false,false,false],"resource":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],"fileName":[44,45,44,44,46,47,48,49,50,50,51,51,51,52,46,51,53,54,54,55,56,52,52,57,58,59,60,60,60,60,60,61,52,62,63,62,64,61,65,52,66,52,52,52],"lineNumber":[0,21,136,80,237,53,317,450,10,27,55,881,96,null,219,857,53,72,174,224,55,null,null,14,18,21,161,592,655,605,638,12,null,1200,54,1049,8,86,216,null,28,null,null,null],"columnNumber":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"length":44},"nativeSymbols":{},"samples":{"stack":[7,8,28,24,29,36,29,36,28,38,36,39,36,40,41,36,42,41,43,36,24,36,45,39,41,46,36,40,39,26,36,42,36,26,41,36,41,48,36,48,40,39,36,49,58,71,73,75],"time":[957833062.155,957833062.656,957833064.656,957833065.154,957833065.655,957833066.158,957833067.659,957833068.155,957833069.154,957833069.656,957833070.155,957833071.155,957833071.655,957833073.156,957833073.656,957833074.154,957833075.157,957833075.655,957833076.156,957833076.655,957833077.156,957833078.155,957833078.655,957833079.158,957833079.655,957833080.154,957833080.656,957833081.656,957833082.156,957833082.656,957833083.156,957833083.656,957833084.156,957833084.655,957833085.156,957833085.656,957833086.156,957833086.66,957833087.16,957833087.656,957833088.156,957833088.656,957833089.156,957833089.656,957833090.156,957833090.657,957833096.656,957833098.156],"weight":[1,4,1,1,1,3,1,2,1,1,2,1,2,1,1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,3,1],"weightType":"samples","length":48},"stackTable":{"frame":[0,1,2,3,4,5,4,6,7,8,9,10,11,12,13,14,15,16,14,17,18,19,18,20,18,19,18,21,22,20,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,32,38,39,33,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],"category":[3,1,3,3,0,3,0,3,0,3,3,3,3,3,3,3,3,3,3,3,7,0,7,3,7,0,7,3,3,3,3,3,3,3,3,3,7,3,7,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,7,3,3,3,3,3,3,3,3,3,1,7,1,7,3,7,3,7],"subcategory":[0,1,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0],"prefix":[null,0,1,2,3,4,5,6,5,2,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,26,27,30,31,32,33,34,35,32,37,27,31,26,24,32,22,44,32,30,47,30,2,50,51,52,53,54,55,56,57,54,59,60,61,62,63,64,65,66,67,68,69,70,66,72,66,74],"length":76},"resourceTable":{"length":0,"lib":[],"name":[],"host":[],"type":[]},"markers":{"data":[{"type":"THREAD_STALLED"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_END_SWEEP"},{"type":"GC_PAUSE","gc_by":"newobj","state":"none"}],"name":[68,69,69,69,69,69,69,69,69,70,69],"startTime":[957833062.097,957833065.044,957833066.03,957833067.003,957833067.977,957833068.977,957833069.958,957833070.938,957833071.925,957833072.748,957833072.641],"endTime":[957833062.142,957833065.091,957833066.078,957833067.051,957833068.025,957833069.024,957833070.007,957833070.986,957833071.975,null,957833072.749],"phase":[1,1,1,1,1,1,1,1,1,0,1],"category":[8,6,6,6,6,6,6,6,6,6,6],"length":11},"stringArray":["<main>","Vernier.profile","block in <main>","BulkInsertMethods.raw_sql_method","Array#map","Arel::TreeManager#to_sql","ActiveRecord::ConnectionHandling#with_connection","ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection","Arel::Visitors::Visitor#accept","Arel::Visitors::Visitor#visit","Arel::Visitors::ToSql#visit_Arel_Nodes_InsertStatement","Arel::Visitors::ToSql#maybe_visit","Arel::Visitors::ToSql#visit_Arel_Nodes_ValuesList","Enumerable#each_with_index","Array#each","Arel::Visitors::ToSql#quote","ActiveRecord::ConnectionAdapters::SQLite3::Quoting#quote","ActiveRecord::ConnectionAdapters::Quoting#quote","ActiveRecord::ConnectionAdapters::Quoting#quoted_date","ActiveSupport::TimeWithZone#to_fs","Time#to_fs","Time#strftime","Kernel#sprintf","Arel::Collectors::PlainString#<<","Time.===","ActiveRecord::ConnectionAdapters::AbstractAdapter#exec_query","ActiveRecord::ConnectionAdapters::DatabaseStatements#exec_query","ActiveRecord::ConnectionAdapters::DatabaseStatements#internal_exec_query","ActiveRecord::ConnectionAdapters::DatabaseStatements#internal_execute","ActiveRecord::ConnectionAdapters::DatabaseStatements#raw_execute","ActiveRecord::ConnectionAdapters::DatabaseStatements#preprocess_query","ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#write_query?","Regexp#match?","ActiveRecord::ConnectionAdapters::AbstractAdapter#log","ActiveSupport::Notifications::Instrumenter#instrument","ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection","ActiveSupport::Concurrency::NullLock#synchronize","ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#perform_query","SQLite3::Database#prepare","Class#new","SQLite3::Statement#initialize","SQLite3::Statement#prepare","SQLite3::Statement#step","SQLite3::Statement#close","/private/tmp/ar-bench.rb","gem:vernier-1.8.1:lib/vernier.rb","<internal:array>","activerecord/lib/arel/tree_manager.rb","activerecord/lib/active_record/connection_handling.rb","activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb","activerecord/lib/arel/visitors/visitor.rb","activerecord/lib/arel/visitors/to_sql.rb","<cfunc>","activerecord/lib/active_record/connection_adapters/sqlite3/quoting.rb","activerecord/lib/active_record/connection_adapters/abstract/quoting.rb","activesupport/lib/active_support/time_with_zone.rb","activesupport/lib/active_support/core_ext/time/conversions.rb","activerecord/lib/arel/collectors/plain_string.rb","activesupport/lib/active_support/core_ext/time/calculations.rb","activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb","activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb","activerecord/lib/active_record/connection_adapters/sqlite3/database_statements.rb","activerecord/lib/active_record/connection_adapters/abstract_adapter.rb","activesupport/lib/active_support/notifications/instrumenter.rb","activesupport/lib/active_support/concurrency/null_lock.rb","gem:sqlite3-2.8.0-arm64-darwin:lib/sqlite3/database.rb","gem:sqlite3-2.8.0-arm64-darwin:lib/sqlite3/statement.rb","native","Thread Stalled","GC pause","GC end sweeping"]},{"name":"Gem::Timeout stdlib thread","isMainThread":false,"processStartupTime":957833062.098,"registerTime":957833062.098,"pausedRanges":[],"pid":8807,"tid":8710896,"frameTable":{"address":[],"inlineDepth":[],"category":[],"subcategory":[],"func":[],"nativeSymbol":[],"innerWindowID":[],"implementation":[],"line":[],"column":[],"length":0},"funcTable":{"name":[],"isJS":[],"relevantForJS":[],"resource":[],"fileName":[],"lineNumber":[],"columnNumber":[],"length":0},"nativeSymbols":{},"samples":{"stack":[],"time":[],"weight":[],"weightType":"samples","length":0},"stackTable":{"frame":[],"category":[],"subcategory":[],"prefix":[],"length":0},"resourceTable":{"length":0,"lib":[],"name":[],"host":[],"type":[]},"markers":{"data":[{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_END_SWEEP"},{"type":"GC_PAUSE","gc_by":"newobj","state":"none"}],"name":[1,1,1,1,1,1,1,1,2,1],"startTime":[957833065.044,957833066.03,957833067.003,957833067.977,957833068.977,957833069.958,957833070.938,957833071.925,957833072.748,957833072.641],"endTime":[957833065.091,957833066.078,957833067.051,957833068.025,957833069.024,957833070.007,957833070.986,957833071.975,null,957833072.749],"phase":[1,1,1,1,1,1,1,1,0,1],"category":[6,6,6,6,6,6,6,6,6,6],"length":10},"stringArray":["<cfunc>","GC pause","GC end sweeping"]},{"name":"AR Pool Reaper","isMainThread":false,"processStartupTime":957833062.098,"registerTime":957833062.098,"pausedRanges":[],"pid":8807,"tid":8710896,"frameTable":{"address":[],"inlineDepth":[],"category":[],"subcategory":[],"func":[],"nativeSymbol":[],"innerWindowID":[],"implementation":[],"line":[],"column":[],"length":0},"funcTable":{"name":[],"isJS":[],"relevantForJS":[],"resource":[],"fileName":[],"lineNumber":[],"columnNumber":[],"length":0},"nativeSymbols":{},"samples":{"stack":[],"time":[],"weight":[],"weightType":"samples","length":0},"stackTable":{"frame":[],"category":[],"subcategory":[],"prefix":[],"length":0},"resourceTable":{"length":0,"lib":[],"name":[],"host":[],"type":[]},"markers":{"data":[{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_PAUSE","gc_by":"newobj","state":"sweeping"},{"type":"GC_END_SWEEP"},{"type":"GC_PAUSE","gc_by":"newobj","state":"none"}],"name":[1,1,1,1,1,1,1,1,2,1],"startTime":[957833065.044,957833066.03,957833067.003,957833067.977,957833068.977,957833069.958,957833070.938,957833071.925,957833072.748,957833072.641],"endTime":[957833065.091,957833066.078,957833067.051,957833068.025,957833069.024,957833070.007,957833070.986,957833071.975,null,957833072.749],"phase":[1,1,1,1,1,1,1,1,0,1],"category":[6,6,6,6,6,6,6,6,6,6],"length":10},"stringArray":["<cfunc>","GC pause","GC end sweeping"]}]}